"use strict";(self.webpackChunkdoc_app=self.webpackChunkdoc_app||[]).push([[99],{1869:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>f});var o=n(2322),r=n(5392);const s={sidebar_position:4},c="Share Action events for ngrx",i={id:"store-strategies/combine-with-ngrx-effects",title:"Share Action events for ngrx",description:"Demo",source:"@site/docs/store-strategies/combine-with-ngrx-effects.md",sourceDirName:"store-strategies",slug:"/store-strategies/combine-with-ngrx-effects",permalink:"/ngrx-lite/docs/store-strategies/combine-with-ngrx-effects",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/store-strategies/combine-with-ngrx-effects.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Global Store",permalink:"/ngrx-lite/docs/store-strategies/global-store"},next:{title:"Store Devtools",permalink:"/ngrx-lite/docs/dev-tools"}},a={},f=[{value:"Share PATCH/SET Action&#39;s",id:"share-patchset-actions",level:2},{value:"Listen in Global Effect",id:"listen-in-global-effect",level:3},{value:"Share Loader Effect Action&#39;s",id:"share-loader-effect-actions",level:2},{value:"Listen in Global Effect",id:"listen-in-global-effect-1",level:3}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"share-action-events-for-ngrx",children:"Share Action events for ngrx"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://gernsdorfer.github.io/ngrx-lite/sample-app/#/share-actions",children:"Demo"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://github.com/gernsdorfer/ngrx-lite/tree/master/apps/sample-app/src/app/component-store/share-actions",children:"Demo-Code"})}),"\n",(0,o.jsxs)(t.p,{children:["Create a ",(0,o.jsx)(t.a,{href:"https://ngrx.io/guide/store/actions",children:"ngrx Action"})," to share your State Change Event."]}),"\n",(0,o.jsx)(t.h2,{id:"share-patchset-actions",children:"Share PATCH/SET Action's"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",metastring:'title="my-counter.component.ts"',children:"import { Component } from '@angular/core';\nimport { EffectStates, getCustomAction, LoadingStoreState } from '@gernsdorfer/ngrx-lite';\n\nconst storeName = 'COUNTER';\nconst actionName = 'INCREMENT';\n\ninterface MyState {\n  myValue: string;\n}\n// Get Success Action for increment Effect\nexport const MyIncrementAction = getCustomAction<{ counter: number }>({\n  storeName: storeName,\n  actionName: actionName,\n});\n\n@Component({})\nexport class CounterComponent {\n  private store = this.storeFactory.createComponentStore<MyState>({\n    storeName: 'BASIC_COUNTER',\n    defaultState: { counter: 0 },\n  });\n\n  increment() {\n    this.store.patchState(({ counter }) => ({ counter: counter + 1 }), actionName);\n  }\n}\n"})}),"\n",(0,o.jsx)(t.h3,{id:"listen-in-global-effect",children:"Listen in Global Effect"}),"\n",(0,o.jsxs)(t.p,{children:["Listen in ",(0,o.jsx)(t.a,{href:"https://ngrx.io/guide/store/actions",children:"@ngrx/Effects"})," for Counter Success Action"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",metastring:'title="my-effect.effect.ts"',children:"import { Actions, createLoadingEffect, ofType } from '@ngrx/effects';\nimport { MyIncrementAction } from './my-counter.component.ts';\n\n@Injectable()\nexport class DemoEffect {\n  constructor(private actions$: Actions) {}\n\n  logActions$ = createLoadingEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(MyIncrementAction),\n        tap((data) => console.log(data))\n      ),\n    { dispatch: false }\n  );\n}\n"})}),"\n",(0,o.jsx)(t.h2,{id:"share-loader-effect-actions",children:"Share Loader Effect Action's"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",metastring:'title="my-counter.component.ts"',children:"import { Component } from '@angular/core';\nimport { EffectStates, getEffectAction, LoadingStoreState } from '@gernsdorfer/ngrx-lite';\n\nconst storeName = 'counter';\nconst incrementEffectName = 'increment';\n\ntype State = LoadingStoreState<{ counter: number }, { message: string }>;\n\n// Get Success Action (Load/Success/Error) for increment Effect\nexport const MyIncrementSuccessAction = getCustomAction<LoadingStoreState<number, never>>({\n  storeName: storeName,\n  effectName: incrementEffectName,\n  type: EffectStates.SUCCESS,\n});\n\n@Component({})\nexport class CounterComponent {\n  private store = this.storeFactory.createComponentLoadingStore<State['item'], State['error']>({\n    storeName: 'LOADING_STORE',\n  });\n\n  incrementEffect = this.counterStore.createLoadingEffect(incrementEffectName, (counter: number) => of(counter + 1));\n}\n"})}),"\n",(0,o.jsx)(t.h3,{id:"listen-in-global-effect-1",children:"Listen in Global Effect"}),"\n",(0,o.jsxs)(t.p,{children:["Listen in ",(0,o.jsx)(t.a,{href:"https://ngrx.io/guide/store/actions",children:"@ngrx/Effects"})," for Store Success Action"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",metastring:'title="my-effect.effect.ts"',children:"import { Actions, createLoadingEffect, ofType } from '@ngrx/effects';\nimport { MyIncrementSuccessAction } from './my-counter.component.ts';\n\n@Injectable()\nexport class DemoEffect {\n  constructor(private actions$: Actions) {}\n\n  logActions$ = createLoadingEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(MyIncrementSuccessAction),\n        tap((data) => console.log(data))\n      ),\n    { dispatch: false }\n  );\n}\n"})})]})}function m(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},5392:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>c});var o=n(2784);const r={},s=o.createContext(r);function c(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);